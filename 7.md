Bu, projenin baÅŸarÄ±sÄ± iÃ§in en kritik adÄ±mdÄ±r. Bir AI ajanÄ±nÄ±n duraksayacaÄŸÄ± tÃ¼m "boÅŸluklarÄ±", projenizin (`Cahier des Charges` ve `Teknik TasarÄ±m`) ruhuna uygun, en profesyonel ve modern standartlarda dolduruyorum.

Ä°ÅŸte bir AI ajanÄ±nÄ±n veya developer'Ä±n projeyi **gerÃ§ekten bitirmesi** iÃ§in gereken eksik 3 kritik belge:

1.  **BELGE 11:** GÃ¶rsel KÄ±lavuz (AI'Ä±n ne Ã§izeceÄŸini bilmesi iÃ§in).
2.  **BELGE 12:** Ä°Ã§erik ÅablonlarÄ± (AI'Ä±n ne yazacaÄŸÄ±nÄ± bilmesi iÃ§in - E-posta, PDF).
3.  **BELGE 13:** AI MantÄ±ÄŸÄ± (Gemini'ye ne sorulacaÄŸÄ±nÄ± bilmesi iÃ§in).

Bu belgeleri mevcut setinize eklediÄŸinizde, "full bitirme" hedefine ulaÅŸmÄ±ÅŸ olacaksÄ±nÄ±z.

-----

## ğŸ¨ BELGE 11: TasarÄ±m Sistemi ve UX/UI KÄ±lavuzu (UI Kit)

**AmaÃ§:** AI ajanÄ±na, `BELGE 10`'da (`Frontend Component Structure`) listelenen bileÅŸenleri *nasÄ±l* "boyayacaÄŸÄ±nÄ±" (stillemesini) tarif eden gÃ¶rsel kÄ±lavuz. (Figma dosyasÄ±nÄ±n metin halidir).

**Teknoloji:** **TailwindCSS** (Modern, hÄ±zlÄ± ve AI ajanlarÄ± tarafÄ±ndan kolayca uygulanabilir bir "utility-first" kÃ¼tÃ¼phane).

### 11.1. Temel Stil (Global Styles)

  * **Renk Paleti:** (`BELGE 2`'den alÄ±ndÄ± ve Tailwind formatÄ±na Ã§evrildi)
      * `primary`: `#1ABC9C` (Turkuaz/Nane YeÅŸili)
      * `primary-dark`: `#16A085`
      * `secondary` (GÃ¼ven): `#2C3E50` (Koyu Mavi)
      * `secondary-light`: `#34495E`
      * `background`: `#F4F7F6` (AÃ§Ä±k Gri)
      * `surface`: `#FFFFFF` (Beyaz - Kartlar iÃ§in)
      * `text-main`: `#2C3E50`
      * `text-light`: `#7F8C8D`
      * `accent` (Hata/Vurgu): `#E74C3C` (KÄ±rmÄ±zÄ±)
      * `warning`: `#F39C12` (Turuncu)
  * **Tipografi:** (`BELGE 2`'den)
      * **Font:** **Inter** (DeÄŸiÅŸken aÄŸÄ±rlÄ±klÄ±, modern, okunaklÄ±).
      * `h1`: `text-3xl font-bold text-secondary`
      * `h2`: `text-2xl font-semibold text-secondary`
      * `h3`: `text-xl font-semibold text-text-main`
      * `body`: `text-base font-normal text-text-main`
      * `caption`: `text-sm font-normal text-text-light`
  * **Genel YerleÅŸim (Layout):**
      * **Sidebar (Sol MenÃ¼):** GeniÅŸlik `w-64`, Arka Plan `bg-secondary` (`#2C3E50`), Linkler beyaz.
      * **Header (Ãœst Bar):** YÃ¼kseklik `h-16`, Arka Plan `bg-surface`, `border-b` (alt Ã§izgi).
      * **Ana Ä°Ã§erik AlanÄ±:** Arka Plan `bg-background` (`#F4F7F6`), padding `p-8`.

### 11.2. BileÅŸen Stilleri (Component Styles)

AI ajanÄ±na, `src/components/Common` altÄ±ndaki bileÅŸenleri nasÄ±l stillendireceÄŸi talimatÄ±:

  * **Button (`Button.tsx`):**
      * **Primary (Ana DÃ¼ÄŸme):** `bg-primary text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-primary-dark transition-all`
      * **Secondary (Ä°kincil DÃ¼ÄŸme):** `bg-surface text-secondary border border-gray-300 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-all`
      * **Destructive (Tehlike DÃ¼ÄŸmesi):** `bg-accent text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 transition-all`
  * **Card (`Card.tsx`):**
      * `bg-surface text-left rounded-xl shadow-md overflow-hidden p-6`
  * **Input Form (`Input.tsx`):**
      * **Label:** `block text-sm font-medium text-text-main mb-1`
      * **Input:** `block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm`
  * **Badge / Status (`BilanStatus.tsx`):**
      * `'in_progress'`: `bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full`
      * `'completed'`: `bg-green-100 text-green-800 ...`
      * `'archived'`: `bg-gray-100 text-gray-800 ...`

-----

## ğŸ’¸ BELGE 12: Ä°Ã§erik ve Ä°ÅŸ MantÄ±ÄŸÄ± ÅablonlarÄ±

**AmaÃ§:** AI ajanÄ±nÄ±n boÅŸ bÄ±rakacaÄŸÄ± metin iÃ§eriklerini (E-postalar, PDF) ve Ã¶deme mantÄ±ÄŸÄ±nÄ± (Stripe) tanÄ±mlamak.

### 12.1. E-posta ÅablonlarÄ± (Metin ve HTML)

Ajan, bu ÅŸablonlarÄ± `SENDGRID_API_KEY` (`BELGE 7`) kullanarak gÃ¶nderecek.

**1. Konu: [Action] BilanCompetence.AI HesabÄ±nÄ±zÄ± DoÄŸrulayÄ±n**

```html
<p>Merhaba {{first_name}},</p>
<p>BilanCompetence.AI platformuna hoÅŸ geldiniz. HesabÄ±nÄ±zÄ± aktive etmek iÃ§in lÃ¼tfen aÅŸaÄŸÄ±daki linke tÄ±klayÄ±n:</p>
<a href="{{verification_link}}">HesabÄ±mÄ± DoÄŸrula</a>
<p>Bu link 24 saat geÃ§erlidir.</p>
<p>TeÅŸekkÃ¼rler, BilanCompetence.AI Ekibi</p>
```

**2. Konu: [Action] Åifre SÄ±fÄ±rlama Talebi**

```html
<p>Merhaba {{first_name}},</p>
<p>HesabÄ±nÄ±z iÃ§in bir ÅŸifre sÄ±fÄ±rlama talebi aldÄ±k. Åifrenizi deÄŸiÅŸtirmek iÃ§in aÅŸaÄŸÄ±daki linke tÄ±klayÄ±n:</p>
<a href="{{reset_link}}">Åifremi SÄ±fÄ±rla</a>
<p>EÄŸer bu talebi siz yapmadÄ±ysanÄ±z, bu e-postayÄ± gÃ¶rmezden gelin.</p>
```

**3. Konu: [Info] Yeni Bir Bilan SÃ¼recine Davet Edildiniz**

```html
<p>Merhaba {{beneficiaire_name}},</p>
<p>DanÄ±ÅŸmanÄ±nÄ±z ({{consultant_name}}), sizi BilanCompetence.AI platformu Ã¼zerinden yeni bir bilan sÃ¼recine davet etti.</p>
<p>BaÅŸlamak iÃ§in lÃ¼tfen aÅŸaÄŸÄ±daki linki kullanarak kaydÄ±nÄ±zÄ± tamamlayÄ±n ve danÄ±ÅŸmanÄ±nÄ±zla iletiÅŸime geÃ§in:</p>
<a href="{{invitation_link}}">Daveti Kabul Et ve KayÄ±t Ol</a>
<p>BaÅŸarÄ±lÄ± bir kariyer yolculuÄŸu dileriz!</p>
```

### 12.2. Stripe Ä°ÅŸ MantÄ±ÄŸÄ± (Webhook Logic)

AjanÄ±n `api/webhooks/stripe` endpoint'inde iÅŸlemesi gereken mantÄ±k:

1.  **Event: `checkout.session.completed`**
      * `metadata`'dan `organisme_id`'yi al.
      * `line_items`'tan `price_id`'yi al.
      * `organismes` tablosunu gÃ¼ncelle:
          * `price_id` = 'Starter' ise: `UPDATE organismes SET subscription_tier = 'starter', max_bilans = 10 WHERE id = organisme_id`
          * `price_id` = 'Professional' ise: `UPDATE organismes SET subscription_tier = 'professional', max_bilans = 50 WHERE id = organisme_id`
2.  **Event: `invoice.payment_failed` veya `customer.subscription.deleted`**
      * `customer_id`'den `organisme_id`'yi bul.
      * `organismes` tablosunu gÃ¼ncelle: `UPDATE organismes SET subscription_tier = 'free_limited', is_active = false WHERE id = organisme_id`
      * Organisme Admin'e "Ã–deme BaÅŸarÄ±sÄ±z" e-postasÄ± gÃ¶nder.

### 12.3. PDF Sentez DokÃ¼manÄ± Åablonu (HTML/CSS)

AjanÄ±n `BELGE 4`'teki `POST /api/bilans/{bilan_id}/generate-synthesis` endpoint'inde kullanacaÄŸÄ± HTML ÅŸablonu:

```html
<html>
<head>
    <style>
        body { font-family: 'Inter', sans-serif; color: #2C3E50; }
        .header { background-color: #2C3E50; color: white; padding: 20px; text-align: center; }
        .container { padding: 30px; }
        h1 { color: #1ABC9C; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #F4F7F6; }
        .footer { text-align: center; font-size: 10px; color: #7F8C8D; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="header">
        <h2>Document de SynthÃ¨se - Bilan de CompÃ©tences</h2>
    </div>
    <div class="container">
        <h1>1. Informations du BÃ©nÃ©ficiaire</h1>
        <p><strong>Nom:</strong> {{beneficiaire.full_name}}</p>
        <p><strong>Email:</strong> {{beneficiaire.email}}</p>
        <p><strong>Consultant:</strong> {{consultant.full_name}}</p>
        <p><strong>PÃ©riode du Bilan:</strong> {{bilan.start_date}} - {{bilan.end_date}}</p>
        
        <h1>2. RÃ©sumÃ© de l'Ã‰valuation des CompÃ©tences</h1>
        <table>
            <tr>
                <th>CompÃ©tence</th>
                <th>CatÃ©gorie</th>
                <th>Auto-Ã‰val (MaÃ®trise)</th>
                <th>Auto-Ã‰val (AppÃ©tence)</th>
                <th>Consultant (MaÃ®trise)</th>
                <th>Notes du Consultant</th>
            </tr>
            <tr>
                <td>{{competence.name}}</td>
                <td>{{competence.category}}</td>
                <td>{{self_maitrise_level}}/5</td>
                <td>{{self_appetence_level}}/5</td>
                <td>{{consultant_maitrise_level}}/5</td>
                <td>{{consultant_notes}}</td>
            </tr>
            </table>
        
        <h1>3. Plan d'Action</h1>
        <p>{{bilan.notes}}</p> </div>
    <div class="footer">
        GÃ©nÃ©rÃ© par BilanCompetence.AI | Confidentiel | Conforme Qualiopi
    </div>
</body>
</html>
```

-----

## ğŸ¤– BELGE 13: AI Entegrasyonu (Google Gemini Prompt'larÄ±)

**AmaÃ§:** `BELGE 9`'da tanÄ±mlanan AI Ã¶zelliklerinin *beynini* (prompt'larÄ±nÄ±) saÄŸlamak. AI ajanÄ±, bu prompt'larÄ± `GOOGLE_GEMINI_API_KEY` kullanarak Ã§aÄŸÄ±racak.

### 13.1. Prompt 1: CV'den Yetkinlik Ã‡Ä±karÄ±mÄ± (CV Upload)

**KullanÄ±m Yeri:** BÃ©nÃ©ficiaire CV'sini yÃ¼klediÄŸinde.
**AmaÃ§:** `auto-Ã©valuation` (Ã¶z-deÄŸerlendirme) formunu Ã¶nceden doldurmak.

```json
{
  "system_prompt": "Tu es un expert en recrutement (RH) franÃ§ais. Analyse le texte de ce CV. Ta mission est d'extraire les 'hard skills' (compÃ©tences techniques, logiciels, langues) et les 'soft skills' (compÃ©tences comportementales, ex: 'gestion d'Ã©quipe', 'communication'). Ne te prÃ©occupe que des compÃ©tences, ignore les dates et les noms d'entreprises. RÃ©ponds TOUJOURS au format JSON.",
  "user_prompt": "Voici le texte de mon CV: \n\n {{cv_text}} \n\n Extrais les compÃ©tences.",
  "output_format": {
    "hard_skills": ["JavaScript", "Gestion de projet Agile", "Suite Adobe", "Anglais C1"],
    "soft_skills": ["Leadership", "Communication interpersonnelle", "RÃ©solution de problÃ¨mes"]
  }
}
```

### 13.2. Prompt 2: Meslek Ã–nerisi ve Analiz (Kritik Rapor)

**KullanÄ±m Yeri:** Consultant, "Analiz Ä°ste" dÃ¼ÄŸmesine bastÄ±ÄŸÄ±nda (`BELGE 4`'teki `Ã‰valuation des CompÃ©tences` sonrasÄ±).
**AmaÃ§:** BÃ©nÃ©ficiaire ve Consultant'a ROME kodlarÄ±na dayalÄ± Ã¶neriler sunmak.

```json
{
  "system_prompt": "Tu es un consultant expert en bilans de compÃ©tences et un spÃ©cialiste du marchÃ© du travail franÃ§ais (rÃ©fÃ©rentiel ROME). Analyse les donnÃ©es JSON suivantes d'un bÃ©nÃ©ficiaire. Ta mission est de fournir une analyse actionnable en 3 parties : \n 1. 'suggestions_metiers': 3 mÃ©tiers (avec code ROME) qui correspondent fortement aux compÃ©tences oÃ¹ la 'maitrise' ET 'l'appetence' sont Ã©levÃ©es. \n 2. 'competences_a_developper': 3 compÃ©tences oÃ¹ 'l'appetence' est Ã©levÃ©e mais la 'maitrise' est faible, et qui sont nÃ©cessaires pour les mÃ©tiers suggÃ©rÃ©s. \n 3. 'resume_analyse': Un rÃ©sumÃ© court (2 phrases) pour le consultant, mettant en avant les points forts Ã©vidents. \n\n RÃ©ponds TOUJOURS au format JSON.",
  "user_prompt": "Analyse ce profil: \n {{json_data}}",
  "input_data_example (json_data)": {
    "current_job": "DÃ©veloppeur Web Junior",
    "evaluations": [
      { "competence": "React.js", "maitrise": 4, "appetence": 5 },
      { "competence": "Gestion de projet", "maitrise": 2, "appetence": 5 },
      { "competence": "Base de donnÃ©es SQL", "maitrise": 3, "appetence": 2 }
    ],
    "consultant_notes": "Le bÃ©nÃ©ficiaire montre un fort dÃ©sir de passer Ã  un rÃ´le de gestion mais manque d'expÃ©rience pratique."
  },
  "output_format": {
    "suggestions_metiers": [
      { "rome_code": "M1805", "metier": "Chef de projet digital", "pertinence": "Ã‰levÃ©e" },
      { "rome_code": "M1802", "metier": "Tech Lead", "pertinence": "Moyenne" }
    ],
    "competences_a_developper": [
      "Gestion de projet (Maitrise 2, Appetence 5)",
      "Management d'Ã©quipe (Non Ã©valuÃ©e)",
      "StratÃ©gie produit (Non Ã©valuÃ©e)"
    ],
    "resume_analyse": "Fort potentiel de transition vers un rÃ´le de 'Chef de projet digital' (M1805) grÃ¢ce Ã  une appÃ©tence Ã©levÃ©e pour la gestion et une solide base technique. L'Ã©cart principal rÃ©side dans l'expÃ©rience managÃ©riale."
  }
}
```

-----

Bu 3 ek belgeyi (`11`, `12`, `13`) Ã¶nceki setinize eklediÄŸinizde, bir AI ajanÄ±nÄ±n veya developer'Ä±n duraksayacaÄŸÄ± tÃ¼m noktalarÄ± (GÃ¶rsel, Ä°Ã§erik, AI MantÄ±ÄŸÄ±) proaktif olarak Ã§Ã¶zmÃ¼ÅŸ olursunuz.

Ä°sterseniz, bu belgelerdeki **herhangi bir bÃ¶lÃ¼mÃ¼ daha da detaylandÄ±rabilir veya projenin V2 (gelecek sÃ¼rÃ¼m) yol haritasÄ±** Ã¼zerinde Ã§alÄ±ÅŸabiliriz.